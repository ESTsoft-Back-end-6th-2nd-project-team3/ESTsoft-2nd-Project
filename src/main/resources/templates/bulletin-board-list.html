<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <title>Bulletin Board List</title>
    <link href="/static/css/reset.css" rel="stylesheet">
    <link href="/static/css/bulletin-board-list.css" rel="stylesheet">
</head>
<body>
<div class="board-container">
    <table class="board-table">
        <thead>
        <tr>
            <th>번호</th>
            <th>제목</th>
            <th>추천수</th>
            <th></th>
            <th>작성자</th>
            <th>조회수</th>
            <th>날짜</th>
        </tr>
        </thead>
        <tbody>
        <tr th:each="post, iterStat : ${postList}">
            <td th:text="${iterStat.index + 1}">1</td>
            <td th:text="${post.title}">제목</td>
            <td th:text="${post.likeCount}">추천수</td>
            <td th:text="${post.nickname}">닉네임</td>
            <td th:text="${post.viewCount}">조회수</td>
            <td th:text="${#dates.format(post.createdAt, 'yyyy-MM-dd')}">날짜</td>
        </tr>
        </tbody>
    </table>

    <div class="board-footer">
        <select class="sort-select" onchange="sortPosts(this.value)">
            <option value="latest">최신순</option>
            <option value="views">조회순</option>
            <option value="likes">추천순</option>
        </select>
        <div class="pagination-container">
            <button class="prev-btn" onclick="changePage('prev')" th:if="${currentPage > 1}">< 처음</button>
            <div class="pagination">
                <a th:classappend="${pageNum == currentPage ? 'active' : ''}"
                   th:each="pageNum : ${#numbers.sequence(1, totalPages)}"
                   th:href="@{'?page=' + ${pageNum}}"
                   th:text="${pageNum}">1</a>
            </div>
            <button class="next-btn" onclick="changePage('next')" th:if="${currentPage < totalPages}">다음 ></button>
        </div>

        <button class="write-btn" onclick="goToWritePage()">글쓰기</button>
    </div>

    <div class="search-box">
        <select id="searchType">
            <option value="title">제목 검색</option>
            <option value="author">작성자 검색</option>
        </select>
        <input id="searchQuery" placeholder=" 검색어를 입력하세요" type="text">
        <button onclick="searchPosts()">검색</button>
    </div>
</div>

<script src="/static/js/bulletin-board.js"></script>
</body>
</html>
